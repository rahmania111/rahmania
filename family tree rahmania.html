<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Family Tree — Rahmania</title>
  <style>
    :root {
      --bg:#0f172a;--card:#111827;--text:#e5e7eb;--accent:#10b981;
      --accent-2:#60a5fa;--danger:#ef4444;--muted:#9ca3af;--border:#1f2937;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui}
    header{padding:20px;background:var(--accent);color:#062e26}
    .container{padding:20px;max-width:980px;margin:auto}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab-btn{background:#0b1220;color:var(--text);border:1px solid var(--border);border-radius:999px;padding:8px 14px;cursor:pointer}
    .tab-btn.active{background:var(--accent);color:#062e26;font-weight:700}
    .view{display:none}.view.active{display:block}
    .card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px;margin-bottom:12px}
    .badge{background:#0b1220;border:1px solid var(--border);border-radius:999px;padding:4px 10px;font-size:12px;color:var(--muted)}
    .tree{list-style:none;padding:0;display:grid;gap:12px}
    .tree>li{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:12px}
    .person{padding:6px 10px;border-radius:8px;display:inline-block}
    .gen-1{background:#1d4ed8}.gen-2{background:#059669}.gen-3{background:#7c3aed}
    .controls{display:grid;gap:10px;margin:12px 0}
    .row{display:flex;gap:8px;flex-wrap:wrap}
    input,select,button{background:#0b1220;color:var(--text);border:1px solid var(--border);border-radius:8px;padding:8px 10px}
    button.primary{background:var(--accent);color:#062e26;font-weight:600}
    button.danger{background:var(--danger);color:#0b1220;font-weight:600}
    footer{padding:16px;text-align:center;color:var(--muted)}
  </style>
</head>
<body>
<header>
  <h1>Family Tree — Rahmania</h1>
  <p>Kamu, saudara/i, ayah-ibu, kakek-nenek (Static, Dynamic, Manageable)</p>
</header>

<div class="container">
<nav class="tabs">
  <button class="tab-btn active" data-target="static">Static</button>
  <button class="tab-btn" data-target="dynamic">Dynamic</button>
  <button class="tab-btn" data-target="manageable">Manageable</button>
</nav>

<!-- STATIC -->
<section id="static" class="view active">
<ul class="tree">
  <li>
    <div class="person gen-3">Sutisna • Qomariyyah</div>
    <ul>
      <li>
        <div class="person gen-2">Herdian • Nita Nurhayati</div>
        <ul>
          <li><div class="person gen-1">Aulia Putri Syabani</div></li>
          <li><div class="person gen-1">Rahmania Nurin Maulida</div></li>
          <li><div class="person gen-1">Athar Rifqi Yudhistira</div></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <div class="person gen-3">Sobur • Rohayati</div>
    <ul><li><div class="person gen-2">Nita Nurhayati</div></li></ul>
  </li>
</ul>
</section>

<!-- DYNAMIC -->
<section id="dynamic" class="view">
<div class="controls">
  <div class="row">
    <input id="siblingName" placeholder="Nama saudara">
    <select id="siblingType"><option value="Kakak">Kakak</option><option value="Adik">Adik</option></select>
    <button id="addSiblingBtn" class="primary">Tambah</button>
  </div>
  <div id="siblingsList"></div>
</div>
<ul id="dynamicTree" class="tree"></ul>
</section>

<!-- MANAGEABLE -->
<section id="manageable" class="view">
<div class="controls">
  <div class="row"><input id="m_siblingName"><select id="m_siblingType"><option>Kakak</option><option>Adik</option></select><button id="m_addSibling" class="primary">Tambah Saudara</button></div>
  <div class="row"><input id="m_fatherName" placeholder="Ayah"><input id="m_motherName" placeholder="Ibu"><button id="m_setParents" class="primary">Simpan</button></div>
  <div class="row"><input id="m_partnerName"><button id="m_addPartner" class="primary">Tambah Pasangan</button></div>
  <div class="row"><input id="m_childName"><button id="m_addChild" class="primary">Tambah Anak</button></div>
  <div class="row"><input id="m_deleteName"><button id="m_deletePerson" class="danger">Hapus</button></div>
</div>
<ul id="m_tree" class="tree"></ul>
</section>
</div>

<footer>© 2026 — Rahmania</footer>

<script>
const tabs=document.querySelectorAll('.tab-btn'),views=document.querySelectorAll('.view');
tabs.forEach(b=>b.onclick=()=>{tabs.forEach(x=>x.classList.remove('active'));views.forEach(v=>v.classList.remove('active'));b.classList.add('active');document.getElementById(b.dataset.target).classList.add('active')});

const dyn={me:'Rahmania Nurin Maulida',parents:['Herdian','Nita Nurhayati'],gp1:['Sutisna','Qomariyyah'],gp2:['Sobur','Rohayati'],siblings:['Aulia Putri Syabani','Athar Rifqi Yudhistira']};

function renderDynamic(){
  siblingsList.innerHTML=dyn.siblings.map(n=>`<span class="person gen-1">${n}</span>`).join('');
  dynamicTree.innerHTML=`
  <li><div class="person gen-3">${dyn.gp1.join(' • ')}</div><ul><li><div class="person gen-2">${dyn.parents.join(' • ')}</div>
  <ul><li><div class="person gen-1">${dyn.me}</div></li>${dyn.siblings.map(n=>`<li><div class="person gen-1">${n}</div></li>`).join('')}</ul>
  </li></ul></li>
  <li><div class="person gen-3">${dyn.gp2.join(' • ')}</div><ul><li><div class="person gen-2">Nita Nurhayati</div></li></ul></li>`;
}
addSiblingBtn.onclick=()=>{const n=siblingName.value.trim();if(!n)return;dyn.siblings.push(`${siblingType.value}: ${n}`);siblingName.value='';renderDynamic()}
renderDynamic();

const KEY='familyTreeData_singlefile';
let state=JSON.parse(localStorage.getItem(KEY))||{me:'Rahmania Nurin Maulida',parents:['Herdian','Nita Nurhayati'],gp1:['Sutisna','Qomariyyah'],gp2:['Sobur','Rohayati'],siblings:['Aulia Putri Syabani','Athar Rifqi Yudhistira'],partners:[],children:[]};
const save=()=>localStorage.setItem(KEY,JSON.stringify(state));

function renderM(){
  m_tree.innerHTML=`
  <li><div class="person gen-3">${state.gp1.join(' • ')}</div><ul><li>
  <div class="person gen-2">${state.parents.join(' • ')}</div>
  <ul><li><div class="person gen-1">${state.me}</div></li>
  ${state.siblings.map(n=>`<li><div class="person gen-1">${n}</div></li>`).join('')}
  </ul></li></ul></li>
  <li><div class="person gen-3">${state.gp2.join(' • ')}</div><ul><li><div class="person gen-2">Nita Nurhayati</div></li></ul></li>`;
}
m_addSibling.onclick=()=>{if(m_siblingName.value){state.siblings.push(`${m_siblingType.value}: ${m_siblingName.value}`);m_siblingName.value='';save();renderM()}}
m_setParents.onclick=()=>{state.parents=[m_fatherName.value,m_motherName.value];save();renderM()}
m_addPartner.onclick=()=>{state.partners.push(m_partnerName.value);m_partnerName.value='';save()}
m_addChild.onclick=()=>{state.children.push(m_childName.value);m_childName.value='';save()}
m_deletePerson.onclick=()=>{state.siblings=state.siblings.filter(n=>n.toLowerCase()!=m_deleteName.value.toLowerCase());m_deleteName.value='';save();renderM()}
renderM();
</script>
</body>
</html>